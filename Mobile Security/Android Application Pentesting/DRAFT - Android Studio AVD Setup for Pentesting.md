# Android Virtual Device

### How to create and manage android virtual devices

https://developer.android.com/studio/run/managing-avds#createavd

### How to Install ADB (Android SDK Platform-Tools)
* Open Android Studio -> SDK Manager -> Android SDK -> SDK Tools -> Check on **Android SDK Platform-Tools** -> Apply

  <img src="https://user-images.githubusercontent.com/37043777/140064719-ea2dd704-1aea-4c38-9725-3edbdafe7924.png" width="800" />

### Setting Up Proxy with BurpSuite
* Go to the Proxy tab and then click Options.
* Under Proxy Listeners, click the Add button to create a new proxy listener.

  <img src="https://blog.yarsalabs.com/content/images/size/w1000/2022/06/image-8.png" width="800" />

* Enter the port number (Ex: 8082), select "All interfaces" and click ok.

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-9.png" width="800" />

* Now, we will export the CA certificates from burp.
* Under the same tab, click on the "Import / export CA certificate" button.

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image.png" width="800" />
  
* Export it as DER format but save it with the .crt extension.

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-1.png" width="800" />

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-2.png" width="800" />
  
* With the emulator open, click More `...` then Extended Controls
* Click Settings and Proxy.
* Define your HTTP proxy settings.
  
  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-10.png" width="800" />
  
* To transfer the Burp certs into your device for installation, you can simply drag and drop the `.crt` certificate into the emulator, or you can use adb to push the file to the AVD.
* Once you transfer the certificate, go to Settings > Security > Encryption & Credentials. Then click on the "Install certificates from SD card" option.

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-14.png" width="800" />

* Select the Certificate file. If you dragged and dropped the file, it will be under `/sdcard/Downloads`.

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-19.png" width="800" />

* Once installed, you can check your certificate under the Trusted credentials tab.

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-11.png" width="800" />

* With this, you can start browsing the web through chrome and fill up the request in burp.

<img src=" " width="800" />


