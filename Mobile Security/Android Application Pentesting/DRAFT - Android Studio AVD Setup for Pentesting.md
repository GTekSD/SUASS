# Android Virtual Device

### How to create and manage android virtual devices

https://developer.android.com/studio/run/managing-avds#createavd

### How to Install ADB (Android SDK Platform-Tools)
* Open Android Studio -> SDK Manager -> Android SDK -> SDK Tools -> Check on **Android SDK Platform-Tools** -> Apply

  <img src="https://user-images.githubusercontent.com/37043777/140064719-ea2dd704-1aea-4c38-9725-3edbdafe7924.png" width="800" />

### Setting Up Proxy with BurpSuite
* Go to the Proxy tab and then click Options.
* Under Proxy Listeners, click the Add button to create a new proxy listener.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/677e17bf-92ab-49e1-bd91-62b57b981a43" width="800" />

* Enter the port number (Ex: 8082), select "All interfaces" and click ok.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/a6e387cc-c68b-4026-9a50-e6345412dde1" width="800" />

* Now, we will export the CA certificates from burp.
* Under the same tab, click on the "Import / export CA certificate" button.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/4860a7f3-414a-49bd-905b-a0e8203b46be" width="800" />
  
* Export it as DER format but save it with the .crt extension.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/f0d49391-730a-4e7f-bf9d-9f0776aed859" width="800" />

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/f03d55fc-b197-40e9-9465-ace3610cc3c1" width="800" />

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/3ea67440-593b-4c5a-a47d-7c2442a0dd45" width="800" />

* With the emulator open, click More `...` then Extended Controls
* Click Settings and Proxy.
* Define your HTTP proxy settings.
  
  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-10.png" width="800" />
  
* To transfer the Burp certs into your device for installation, you can simply drag and drop the `.crt` certificate into the emulator, or you can use adb to push the file to the AVD.
* Once you transfer the certificate, go to Settings > Security > Encryption & Credentials. Then click on the "Install certificates from SD card" option.

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-14.png" width="800" />

* Select the Certificate file. If you dragged and dropped the file, it will be under `/sdcard/Downloads`.

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-19.png" width="800" />

* Once installed, you can check your certificate under the Trusted credentials tab.

 
![ad 1 data](https://github.com/GTekSD/SUASS/assets/55411358/692cef90-3f69-4407-9b74-441031c05dc2)
![ad 2 wifi 1](https://github.com/GTekSD/SUASS/assets/55411358/1d777c60-ea7c-4e27-9b9e-15d4c4e681e0)
![ad 2 wifi 2](https://github.com/GTekSD/SUASS/assets/55411358/c325f591-3ad1-4d55-b7bc-61f26bab876b)
![ad 2 wifi 3 saved](https://github.com/GTekSD/SUASS/assets/55411358/af4b97fb-6e84-418f-b58f-cbdcf321270a)
![ad 3 burp cert saved](https://github.com/GTekSD/SUASS/assets/55411358/917838e9-5232-4139-999c-a4d71b02053c)
![ad 4 der dwn](https://github.com/GTekSD/SUASS/assets/55411358/bb35064a-394c-43fd-a1ab-501a9536e87e)
![ad 5 crt](https://github.com/GTekSD/SUASS/assets/55411358/51983ef9-16ab-47a0-9cfb-a1715c0f508b)
![ad 6 install crt](https://github.com/GTekSD/SUASS/assets/55411358/92efbd4b-94bc-459d-b746-9bf7885f97bb)
![ad 7 install CA crt](https://github.com/GTekSD/SUASS/assets/55411358/b510f9e0-6240-4410-acde-f37482702bb9)
![ad 8 anyway](https://github.com/GTekSD/SUASS/assets/55411358/addb61de-40c5-421d-bd31-4e606788d0ce)
![ad 9 select 1 installed crt](https://github.com/GTekSD/SUASS/assets/55411358/c39c798e-d15b-4764-8052-ab4a6d586dfc)
![ad 9 select crt](https://github.com/GTekSD/SUASS/assets/55411358/458f251b-1477-4dee-9011-cf423a8d7055)

![ad 10 verify 1](https://github.com/GTekSD/SUASS/assets/55411358/783e93ca-ad00-4fcc-994e-1609b9152190)
![ad extended ctrs](https://github.com/GTekSD/SUASS/assets/55411358/dc0ea63b-ec14-4215-8880-ee1d220d4a29)
![burp proxy 6](https://github.com/GTekSD/SUASS/assets/55411358/2d0e64ff-1afd-4633-b872-2316c0e820aa)

  <img src="https://blog.yarsalabs.com/content/images/2022/06/image-11.png" width="800" />

* With this, you can start browsing the web through chrome and fill up the request in burp.

<img src=" " width="800" />


