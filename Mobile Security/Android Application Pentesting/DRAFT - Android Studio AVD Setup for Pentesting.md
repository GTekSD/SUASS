# Android Virtual Device (AVD)

### 1. How to create and manage android virtual devices
* Select only Android 11 (R) under API 30, its is only able to root.
* https://developer.android.com/studio/run/managing-avds#createavd

### 2. How to Install ADB (Android SDK Platform-Tools)
* Open Android Studio -> SDK Manager -> Android SDK -> SDK Tools -> Check on **Android SDK Platform-Tools** -> Apply

  <img src="https://user-images.githubusercontent.com/37043777/140064719-ea2dd704-1aea-4c38-9725-3edbdafe7924.png" width="800" />

### 3. Configure BurpSuite with AVD
* Go to the Proxy tab and then click Options.
* Under Proxy Listeners, click the Add button to create a new proxy listener.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/677e17bf-92ab-49e1-bd91-62b57b981a43" width="800" />

* Enter the port number (Ex: 8082), select "All interfaces" and click ok.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/a6e387cc-c68b-4026-9a50-e6345412dde1" width="800" />


* Turn off "Mobile Data" on your Android virtual device (AVD).

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/692cef90-3f69-4407-9b74-441031c05dc2" width="500" />

* Navigate to Wi-Fi settings and tap on the ⚙️ icon.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/1d777c60-ea7c-4e27-9b9e-15d4c4e681e0" width="500" />

* Edit Proxy Configuration, Tap on the ✏️ icon.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/c325f591-3ad1-4d55-b7bc-61f26bab876b" width="500" />

* Set Proxy Configuration, In the "AndroidWifi" window, select "Proxy" and set it to "Manual". Fill in "Proxy hostname" with your system's IP address and "Proxy port" with the port you have set in Burp Suite (ex. 8090). Click on "Save" to apply the changes.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/af4b97fb-6e84-418f-b58f-cbdcf321270a" width="500" />

* Open your AVD's browser and enter "burp/" or "http://burp/" in the address/url bar. The Burp Suite CA certificate page will load. Click on "CA Certificate" to download it.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/917838e9-5232-4139-999c-a4d71b02053c" width="500" />

* After downloading, rename the downloaded file `cacert.der` to `cacert.crt`.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/51983ef9-16ab-47a0-9cfb-a1715c0f508b" width="500" />

* Open device Settings, navigate to Security > Encryption & Credentials > Install a certificates (Install certificates from SD card). Click on "CA certificate" and select the `cacert.crt` file from your Downloads.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/b510f9e0-6240-4410-acde-f37482702bb9" width="500" />

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/458f251b-1477-4dee-9011-cf423a8d7055" width="500" />

* Once installed, a "CA certificate installed" toast notification will appear.

  <img src="https://github.com/GTekSD/SUASS/assets/55411358/c39c798e-d15b-4764-8052-ab4a6d586dfc" width="500" />

* To crosscheck, go to Settings > Security > Trusted Credentials > USER. If it shows "PortSwigger", the certificate is installed correctly.
  
  <img src="https://github.com/GTekSD/SUASS/assets/55411358/783e93ca-ad00-4fcc-994e-1609b9152190" width="500" />

* You are now ready to intercept requests using Burp Suite.

### 4. How to install APK and transfer files in ADV

