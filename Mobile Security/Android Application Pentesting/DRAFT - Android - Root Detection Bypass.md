# Root Detection Bypass using Frida in Android

Root detection is a common security measure implemented in many Android applications to prevent their execution on rooted devices. However, with tools like Frida, it's possible to bypass such detection mechanisms. This guide will walk you through the process of bypassing root detection using Frida in Android.

## Prerequisites

Before getting started,

- Ensure you have good rooted device or emulators:
  - [NoxPlayer](https://www.bignox.com/)
  - [Genymotion](https://www.genymotion.com/product-desktop/download/)
  - [Android Studio](https://developer.android.com/studio)
- Python from [Microsoft Store](https://apps.microsoft.com/detail/9ncvdn91xzqp?hl=en-us&gl=US)

### Setup Frida:

1. Install Frida by using following commands:

    ```bash
    python -m pip install frida
    python -m pip install frida-tools
    python -m pip install objection
    ```

    Alternatively, you can install them directly using pip:
  
    ```bash
    pip install frida
    pip install frida-tools
    pip install objection
    ```
2. Add frida into Environment Variables
    * Open the "Environment Variables" window
    * Select the Path variable under "System Variables" and click the "Edit" button
    * Click the "New" button
    * Insert path `%USERPROFILE%\AppData\Local\Programs\Python\Python312\Scripts` in the text field

3. Run below command to verify if Frida is installed properly
   ```
   frida -h
   ```
   Frida is properly installed if help is displayed.

### Setup ADB - Android Debug Bridge

Check this [ADB and Fastboot setup](./ADB%20and%20Fastboot%20Setup.md) guide.

## Steps

### 1. Connect ADB Device

Connect the rooted device with wired, and run the following command to identify connected device:
```bash
adb devices
```
In result it will show the device ID as following:
```bash
PS D:\ADB-Platform-Tools\> adb devices
List of devices attached
J9AAGF002486Y9M device
```

If you are using emulator, then directly run the above command. in result it will show you the above:
```bash
PS D:\ADB-Platform-Tools\> adb devices
List of devices attached
127.0.0.1:62001 device
```

### 2. Identify CPU Architecture

First, identify the CPU architecture of the target device by executing the following command:

```bash
adb shell getprop ro.product.cpu.abi
```
In my case, it was:
```
x86
```
### 3. Download Frida Server

Download the appropriate Frida server android binary from the [official Frida releases page](https://github.com/frida/frida/releases/), based on the CPU architecture obtained in the previous step.

In my case, it was `frida-server-16.2.1-android-x86.xz`

### 4. Push Files to Device

Push the Frida server binary and the JavaScript file (rootbypass.js) to the device:

```bash
adb push frida-server-16.2.1-android-x86 /data/local/tmp
adb shell chmod 777 /data/local/tmp/frida-server-16.2.1-android-x86
adb push rootbypass.js /data/local/tmp
```

### 5. Start Frida Server

Start the Frida server on the device:

```bash
adb shell /data/local/tmp/frida-server-16.2.1-android-x86 &
```

### 3. Check Package Name

Use `frida-ps` command to identify the package name of the target application:

```bash
frida-ps -Ua
```

### 6. Execute Frida Script

Execute the Frida script to bypass root detection for the target application:

```bash
frida -U -f com.example.app -l rootbypass.js
```

Replace `com.example.app` with the actual package name of the target application.

## Conclusion

With these steps, you should be able to bypass root detection in Android applications using Frida. It's essential to understand that bypassing security measures like root detection may have legal implications and should only be performed on applications you have explicit permission to test or modify. Use this knowledge responsibly and ethically.









*/
Root Detection Bypass
python -m pip install Frida
python -m pip install objection
python -m pip install frida-tools
adb shell getprop ro.product.cpu.abi
https://github.com/frida/frida/releases/
frida-ps -Ua
adb push frida-server-16.2.1-android-x86 /data/local/tmp
adb shell chmod 777 /data/local/tmp/frida-server-16.2.1-android-x86
adb push rootbypass.js /data/local/tmp
adb shell /data/local/tmp/frida-server-16.2.1-android-x86 &
frida -U -f com.example.app -l rootbypass.js
*/
